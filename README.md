## μƒν’ μ£Όλ¬Έ/κ²°μ  μ„λΉ„μ¤ 
> ν΄λ¦° μ•„ν‚¤ν…μ² λ° DDD κΈ°λ°μΌλ΅ μ„¤κ³„ν• μ „μμƒκ±°λ λ„λ©”μΈ ν”„λ΅μ νΈ 

- 2025λ…„ 3μ›” 22μΌλ¶€ν„° 6μ›” 7μΌκΉμ§€ μ•½ 10μ£Όκ°„ μ§„ν–‰ν• 'ν•­ν•΄99' λ¶€νΈμΊ ν”„ ν”„λ΅μ νΈ μ…λ‹λ‹¤.
- μƒν’ λ“±λ΅λ¶€ν„° μ£Όλ¬Έ, κ²°μ , μΏ ν°, ν¬μΈνΈ μ¶©μ „κΉμ§€ μ»¤λ¨Έμ¤ μ‹μ¤ν…μ ν•µμ‹¬ κΈ°λ¥μ„ μ§μ ‘ λ„λ©”μΈ μ¤‘μ‹¬μΌλ΅ μ„¤κ³„ν•κ³  κµ¬ν„ν–μµλ‹λ‹¤.

### β™οΈ κΈ°μ  μ¤νƒ 
- Backend: Java/Spring
- DB: MySQL
- ORM: JPA(Hibernate)
- Messaging: Kafka (λ„μ… μ‹¤μµ)
- Caching: Redis (λ„μ… μ‹¤μµ)
- Testing: k6, JUnit5
- Infra: Docker, Git, GitHub

### π’΅ μ£Όμ” κΈ°λ¥ 
- β… **μƒν’ λ“±λ΅**: μƒν’ λ° μΈκΈ° μƒν’(Top 5) λ“±λ΅ λ° μ΅°ν
- β… **μΏ ν° λ“±λ΅**: μ„ μ°©μ μΏ ν° λ°κΈ‰ λ° μ‚¬μ©μ μΏ ν° κ΄€λ¦¬
- β… **ν¬μΈνΈ μ¶©μ „**: μ‚¬μ©μ ν¬μΈνΈ μ¶©μ „ λ° μ‚¬μ© λ‚΄μ—­ κ΄€λ¦¬
- β… **μ£Όλ¬Έ κΈ°λ¥**: μ¥λ°”κµ¬λ‹ μ—†μ΄ λ‹¨κ±΄ μ£Όλ¬Έ μ²λ¦¬
- β… **κ²°μ  κΈ°λ¥**: ν¬μΈνΈλ¥Ό ν™μ©ν• κ²°μ  μ²λ¦¬, μ£Όλ¬Έκ³Ό μ—°λ™

### π—οΈ μ‹μ¤ν… μ•„ν‚¤ν…μ² 
1) ν΄λ¦° μ•„ν‚¤ν…μ² λ μ΄μ–΄ κµ¬μ„± 
```
π“¦ src
β”β”€β”€ π“ domain
β”‚   β”β”€β”€ π“ coupon
β”‚   β”‚   β”β”€β”€ Coupon.java                  // Entity
β”‚   β”‚   β”β”€β”€ CouponService.java          // λ„λ©”μΈ μ„λΉ„μ¤
β”‚   β”‚   β””β”€β”€ CouponRepository.java       // μΈν„°νμ΄μ¤
β”‚   β”β”€β”€ π“ product
β”‚   β”‚   β”β”€β”€ Product.java                // Entity
β”‚   β”‚   β”β”€β”€ ProductService.java         // λ„λ©”μΈ μ„λΉ„μ¤
β”‚   β”‚   β””β”€β”€ ProductRepository.java      // μΈν„°νμ΄μ¤
β”‚   β””β”€β”€ ...
β”‚
β”β”€β”€ π“ application
β”‚   β””β”€β”€ π“ facade
β”‚       β””β”€β”€ PaymentFacade.java          // λ³µν•© μ μ¤μΌ€μ΄μ¤ μ²λ¦¬
β”‚
β”β”€β”€ π“ infrastructure
β”‚   β”β”€β”€ π“ coupon
β”‚   β”‚   β”β”€β”€ CouponJpaRepository.java    // Spring Data JPA
β”‚   β”‚   β””β”€β”€ CouponRepositoryImpl.java   // Repository κµ¬ν„μ²΄
β”‚   β””β”€β”€ ...
β”‚
β”β”€β”€ π“ interface
β”‚   β””β”€β”€ π“ api
β”‚       β”β”€β”€ π“ coupon
β”‚       β”‚   β”β”€β”€ CouponController.java
β”‚       β”‚   β”β”€β”€ CouponCreateRequest.java
β”‚       β”‚   β””β”€β”€ CouponResponse.java
β”‚       β”β”€β”€ π“ product
β”‚       β”‚   β”β”€β”€ ProductController.java
β”‚       β”‚   β”β”€β”€ ProductRequest.java
β”‚       β”‚   β””β”€β”€ ProductResponse.java
β”‚       β””β”€β”€ ...


```
2) μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨ - ν•µμ‹¬ κΈ°λ¥μ λ™μ‘ μ„¤λ…
```mermaid
sequenceDiagram
    title μ „μ²΄ μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨ (μΏ ν° μ μ©μ„ μ£Όλ¬Έ λ‹¨κ³„μ—μ„ μν–‰)

    participant μ‚¬μ©μ
    participant μƒν’
    participant μ£Όλ¬Έ
    participant μΏ ν°
    participant κ²°μ 
    participant DB
    participant μ™Έλ¶€λ°μ΄ν„°ν”λ«νΌ as μ™Έλ¶€ λ°μ΄ν„° ν”λ«νΌ

    μ‚¬μ©μ->>μƒν’: μƒν’ μ΅°ν μ”μ²­
    activate μƒν’
    μƒν’->>μƒν’: μ¬κ³  ν™•μΈ
    μƒν’->>μ£Όλ¬Έ: μƒν’ μ£Όλ¬Έ μ”μ²­
    activate μ£Όλ¬Έ
    deactivate μƒν’

    μ£Όλ¬Έ->>μΏ ν°: μΏ ν° κ²€μ¦ μ”μ²­
    activate μΏ ν°
    μΏ ν°->>μΏ ν°: μΏ ν° μƒνƒ ν™•μΈ
    alt μΏ ν°μ΄ λ§λ£λ¨
        μΏ ν°-->>μ£Όλ¬Έ: μΏ ν°μ΄ λ§λ£λ¨ (μ£Όλ¬Έ μ‹¤ν¨)
        μ£Όλ¬Έ-->>μ‚¬μ©μ: μ£Όλ¬Έ μ‹¤ν¨ (μΏ ν°μ΄ μ ν¨ν•μ§€ μ•μ)
    else μΏ ν°μ΄ μ‚¬μ© κ°€λ¥ν•¨
        μΏ ν°-->>μ£Όλ¬Έ: μΏ ν° μ μ© κ°€λ¥
        deactivate μΏ ν°
        μ£Όλ¬Έ->>DB: μ£Όλ¬Έ λ°μ΄ν„° μ €μ¥ (μƒνƒ: λ€κΈ°)
        activate DB
        DB-->>μ£Όλ¬Έ: μ£Όλ¬Έ μ €μ¥ μ™„λ£
        deactivate DB

        μ£Όλ¬Έ-->>μ‚¬μ©μ: μ£Όλ¬Έ μ™„λ£ (μ£Όλ¬Έ ID λ°ν™)
        deactivate μ£Όλ¬Έ

        μ‚¬μ©μ->>κ²°μ : κ²°μ  μ§„ν–‰ μ”μ²­ (μ£Όλ¬Έ ID)
        activate κ²°μ 

        κ²°μ ->>DB: κ²°μ  λ°μ΄ν„° μ €μ¥
        activate DB
        DB-->>κ²°μ : κ²°μ  λ°μ΄ν„° μ €μ¥ μ™„λ£

        κ²°μ ->>DB: ν¬μΈνΈ μ—…λ°μ΄νΈ
        DB-->>κ²°μ : ν¬μΈνΈ μ—…λ°μ΄νΈ μ™„λ£

        κ²°μ ->>DB: μ¬κ³  μ—…λ°μ΄νΈ
        DB-->>κ²°μ : μ¬κ³  μ—…λ°μ΄νΈ μ™„λ£
        deactivate DB

        κ²°μ ->>μ™Έλ¶€λ°μ΄ν„°ν”λ«νΌ: κ²°μ  μƒν’ μ •λ³΄ μ „λ‹¬
        activate μ™Έλ¶€λ°μ΄ν„°ν”λ«νΌ
        alt κ²°μ  μ„±κ³µ
            deactivate μ™Έλ¶€λ°μ΄ν„°ν”λ«νΌ
            κ²°μ -->>μ‚¬μ©μ: κ²°μ  μ„±κ³µ
        else κ²°μ  μ‹¤ν¨
            κ²°μ -->>μ‚¬μ©μ: κ²°μ  μ‹¤ν¨
            deactivate κ²°μ 
        end
    end
```

### β¨ λ°°μ΄ ν•™μµ λ‚΄μ© κ°„λµ μ •λ¦¬ 
#### 1. μ•„ν‚¤ν…μ² μ„¤κ³„
- λ μ΄μ–΄λ“ μ•„ν‚¤ν…μ² β†’ ν΄λ¦° μ•„ν‚¤ν…μ²λ΅ κµ¬μ΅° ν™•μ¥
- DDD μ›μΉ™ κΈ°λ°μΌλ΅ λ„λ©”μΈ μ¤‘μ‹¬ μ„¤κ³„
- DIP(μμ΅΄μ„± μ—­μ „ μ›μΉ™)λ¥Ό κ³ λ ¤ν• μμ΅΄μ„± λ¶„λ¦¬

#### 2. ν…μ¤νΈ
- E2E ν…μ¤νΈ (Controller μ¤‘μ‹¬)
- ν†µν•© ν…μ¤νΈ, λ‹¨μ„ ν…μ¤νΈ μ„¤κ³„ λ° κµ¬ν„
- `Mock`, `Stub` μ°¨μ΄ ν•™μµ
- k6λ¥Ό ν™μ©ν• **λ¶€ν• ν…μ¤νΈ** κ²½ν—

#### 3. λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„
- μΈλ±μ¤ νλ‹ μ‹ **μΉ΄λ””λ„λ¦¬ν‹° κ³ λ ¤**
- λΉ„κ΄€μ  λ½, λ‚™κ΄€μ  λ½, **λ¶„μ‚°λ½** μ‚¬μ© μΌ€μ΄μ¤ ν•™μµ

#### 4. μΊμ‹± μ „λµ
- Redis κΈ°λ° μΊμ‹ μ½κΈ°/μ“°κΈ° μ „λµ
- **Cache Stampede** λ°©μ§€ λ΅μ§ ν•™μµ λ° κµ¬ν„ μ‹¤μµ

#### 5.  Kafka / Redis λ„μ… μ‹¤μµ
- Kafkaλ¥Ό ν†µν• λΉ„λ™κΈ° μ΄λ²¤νΈ μ²λ¦¬ κ°λ… μ μ©
- Redisλ¥Ό ν™μ©ν• ν† ν°/μ„Έμ…/μΉ΄μ΄ν… μΊμ‹ μ μ© μ‹¤ν—

#### π› οΈ Running Docker Containers

`local` profile λ΅ μ‹¤ν–‰ν•κΈ° μ„ν•μ—¬ μΈν”„λΌκ°€ μ„¤μ •λμ–΄ μλ” Docker μ»¨ν…μ΄λ„λ¥Ό μ‹¤ν–‰ν•΄μ£Όμ…”μ•Ό ν•©λ‹λ‹¤.

```bash
docker-compose up -d
```