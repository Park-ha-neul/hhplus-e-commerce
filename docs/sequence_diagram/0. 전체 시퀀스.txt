title 전체 시퀀스 다이어그램 

사용자->상품: 상품 조회 요청
activate 상품
상품->상품: 재고 확인 
상품->주문: 상품 주문
activate 주문
deactivate 상품
주문->결제: 상품 결제
deactivate 주문
activate 결제
결제->쿠폰: 쿠폰 적용
activate 쿠폰
쿠폰->쿠폰: 쿠폰 검증
alt 쿠폰 만료된 경우 
  쿠폰-->사용자: 쿠폰이 만료되어 결제에 실패하였습니다.
else 쿠폰 만료안된 경우
  쿠폰->결제: 쿠폰 적용 가능 응답
  deactivate 쿠폰
  결제->결제: 쿠폰 적용한 금액으로 결제 진행 
  결제->DB: 결제 데이터 저장 
  activate DB
  DB-->결제: 결제 데이터 저장 완료
  결제->DB: 포인트 업데이트
  DB-->결제: 포인트 업데이트
  결제->DB: 재고 업데이트
  DB->결제: 재고 업데이트 완료
  deactivate DB
  결제->외부 데이터 플랫폼: 결제 상품 정보 전달 
  activate 외부 데이터 플랫폼
  alt 결제 성공 
  deactivate 외부 데이터 플랫폼
    결제-->사용자: 결제 성공 
  else 결제 실패 
    결제-->사용자: 결제 실패
    deactivate 결제
  end  
end