title 선착순 쿠폰 발급 

사용자->쿠폰: 선착순 쿠폰 발급 요청 
activate 쿠폰
쿠폰->쿠폰: 쿠폰 검증 
alt 이미 받은 쿠폰인 경우
  쿠폰-->사용자: 선착순 쿠폰 발급 실패(이미 발급받은 사용자)
else 남은 쿠폰이 없는 경우
  쿠폰-->사용자: 선착순 쿠폰 발급 실패(쿠폰 부족)
else 쿠폰 발급 가능한 경우
  쿠폰->DB: 사용자 쿠폰 발급 정보 저장
  activate DB
  DB-->쿠폰: 등록 완료
  deactivate DB
  쿠폰-->사용자: 선착순 쿠폰 발급 완료
  deactivate 쿠폰
end